{% extends "base.html" %}
{% block content %}

<h1>Vegan Sharing</h1>
<h2>Take a recipe, Leave a recipe</h2>

<div class="list-group list-group-flush">
    <div class="row card-panel grey lighten-5 container-fluid aligning">
        <form action="{{ url_for('search') }}" method="post" class="col s12 ">
            <div class="row valign-wrapper center-align">
                <div class="input-field col s12 m8">
                    <i class="fas fa-search prefix light-blue-text text-darken-4"></i>
                    <input type="text" name="query" id="query" minlength="3" class="validate" required>
                </div>
                <div class="col s12 m4">
                    <button type="submit" class="mb-button"><i class="fas fa-search left"></i>Search</button>

                    <a href="{{ url_for('get_recipes') }}" class="button button-anchor">Show All Recipes</a>
                
                </div>
            </div>
        </form>
    </div>
</div>

{% if recipes|length > 0 %}
    {% for recipe in recipes %}
    <div class="card col-sm media" style="width: 31%; display: inline-block; text-align: center; min-height: 150px; margin: 1%;">
        <div class="card-body" style="width: 100%; padding: 0;">
            <h5 class="card-title"><a href="{{ url_for('single_recipe', recipe_id=recipe._id ) }}">{{ recipe.recipe_name }}</a></h5>
            <strong>{{ recipe.category_name }}</strong>
            <p><em>Created by: {{ recipe.created_by }}</em></p>
        </div>
    </div>
    {% endfor %}
{% else %}
    <h3 class="red-text text-darken-4 center-align">No Results Found</h3>
{% endif %}
    
{% endblock %}

